<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <title>jquery-xjzPagination | 分页插件</title>
    <link href="bootstrap.min.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="jquery-1.9.1.js"></script>
    <script src="../dist/jquery.xjzPagination_v1.1.min.js"></script>
    <script src="javascript.js"></script>
</head>
<body>
    <div class="container">
        <h3 class="text-center">jQuery-xjzPagination | 分页插件</h3>
        <br />

        <h4>版本&下载:</h4>
        <p style=" text-indent: 2em;">download v1.1: <a href="https://xujunzhou.github.io/jquery-xjzPagination/" target="_blank">https://xujunzhou.github.io/jquery-xjzPagination/</a></p>
        <p style=" text-indent: 2em;">author: 徐俊洲</p>
        <p style=" text-indent: 2em;">QQ:765550360</p>
        <p style=" text-indent: 2em;">time: 2016-09-08</p>
        <br />

        <h4>特点:</h4>
        <ul>
            <li>动态分页</li>
            <li>静态分页</li>
            <li>自定义页面类型</li>
            <li>省略页面[...]</li>
            <li>配置简单</li>
        </ul>
        <br />

        <h4>基本:</h4>
        <img src="table.png" />
        <xmp>
<head>
    <script src="../plugins/jquery-xjzPagination/dist/jquery.xjzPagination_v1.1.js"></script>
</head>

<table class="table table-striped table-bordered table-hover table-condensed">
    <caption>我的表格</caption>
    <thead>
        <tr>
            <th>编号</th>
            <th>姓名</th>
            <th>年龄</th>
            <th>电话</th>
        </tr>
    </thead>
    <tbody></tbody>
    <script type="text/html" id="table_temp">
        {{each rows}}
            <tr>
                <td>{{$value.id}}</td>
                <td>{{$value.name}}</td>
                <td>{{$value.age}}</td>
                <td>{{$value.phone}}</td>
            </tr>
        {{/each}}
    </script>
</table>

<ul id="xjzPagination" class="pagination"></ul>

<script>
    //初始化分页控件
    var pagin = $("#xjzPagination").xjzPagination({
        onPageClick: function (currentPage) {
            loadData(currentPage);
        }
    });

    //加载数据方法
    function loadData(currentPage) {
        var limit = 10,
              start = (currentPage - 1) * limit;

        $.get('../js/test.json', { start: start, limit: limit }, function (data) {
            if (+data.result_status) {
                //渲染模板
                $("#table_temp").prev().html(template("table_temp", data));     //artTemplate.js

                //更新分页
                var totalPages = Math.ceil(data.total / limit);     //上舍
                pagin.update(totalPages);   //$("#xjzPagination").data("xjzPagination").update(totalPages);
                
            }
        }, 'json');
    }
</script>
        </xmp>
        <br />

        <h4>配置:</h4>
        <table border="1">
            <thead>
                <tr>
                    <th>配置项</th>
                    <th>默认值</th>
                    <th>说明</th>
                    <th>示例</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>totalPages</td>
                    <td>null</td>
                    <td>静态分页(固定总页数), 若配置了该项, 将不需要调用update()去更新分页</td>
                    <td>totalPages:20</td>
                </tr>
                <tr>
                    <td>visiblePages</td>
                    <td>7</td>
                    <td>可视页面, 为了保持左右对称建议设置为奇数值</td>
                    <td>visiblePages:15</td>
                </tr>
                <tr>
                    <td>startPage</td>
                    <td>1</td>
                    <td>
                        <p>起始页面, 静态分页的起始页.若initiateStartPageClick=true, 则初始化时在该页面上触发点击事件</p>
                    </td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>initiateStartPageClick</td>
                    <td>true</td>
                    <td>初始化时在startPage触发点击事件</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>pagingType</td>
                    <td>'simple_numbers'</td>
                    <td>
                        <p>分页类型:</p>
                        <p>'full_numbers': 显示所有</p>
                        <p>'simple_numbers': 上一页[1]下一页</p>
                        <p>'full': 首页 上一页 下一页 尾页</p>
                        <p>'simple': 上一页 下一页</p>
                        <p>'numbers': 纯数字[1][2]...</p>
                    </td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>ellipsis</td>
                    <td>true</td>
                    <td>是否在分页列表显示[...]</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>first</td>
                    <td>'首页'</td>
                    <td>首页按钮显示的文本</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>prev</td>
                    <td>'上一页'</td>
                    <td>上一页按钮显示的文本</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>next</td>
                    <td>'下一页'</td>
                    <td>下一页按钮显示的文本</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>last</td>
                    <td>'尾页'</td>
                    <td>尾页按钮显示的文本</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>more</td>
                    <td>'...'</td>
                    <td>省略页面按钮上显示的文本</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>firstClass</td>
                    <td>'first'</td>
                    <td>首页按钮的css类, 如果需要添加多个类请用空格分隔</td>
                    <td>'first btn'</td>
                </tr>
                <tr>
                    <td>prevClass</td>
                    <td>'prev'</td>
                    <td>上一页按钮的css类</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>nextClass</td>
                    <td>'next'</td>
                    <td>下一页按钮的css类</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>lastClass</td>
                    <td>'last'</td>
                    <td>尾页按钮的css类</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>pageClass</td>
                    <td>'page'</td>
                    <td>页面按钮的css类</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>moreClass</td>
                    <td>'more'</td>
                    <td>省略按钮的css类</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>activeClass</td>
                    <td>'active'</td>
                    <td>当前页的css类</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>disabledClass</td>
                    <td>'disabled'</td>
                    <td>禁用按钮的css类</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>onPageClick(currentPage)</td>
                    <td style="color:red;">[必须]</td>
                    <td>页面点击回调函数, 函数内部this指向分页控件$ul, 参数currentPage为要加载的页面</td>
                    <td>&nbsp;</td>
                </tr>
            </tbody>
        </table>
        <br />

        <h4>方法:</h4>
        <p>获取控件实例:</p>
        <p style=" text-indent: 2em;">(1) 初始化控件时的返回值</p>
        <p style=" text-indent: 2em;">(2) 通过在$ul.data("xjzPagination")</p><br />

        <p>1. update(totalPages)   更新分页</p>
        <p style=" text-indent: 2em;">如果不是静态分页, 应该在页面单击的回调函数中, 调用该方法来更新分页的数量. 需要传入当前总页数的上舍值</p>
        <br />

        <h4>Demo</h4>
        <p>Bootstrap:</p>
        <div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging1" class="pagination pagination-sm"></ul>
                </div>
            </div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging2" class="pagination pagination-sm"></ul>
                </div>
            </div>
            <div style="clear:both;"></div>
        </div>

        <div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging3" class="pagination pagination-sm"></ul>
                </div>
            </div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging4" class="pagination pagination-sm"></ul>
                </div>
            </div>
            <div style="clear:both;"></div>
        </div>

        <div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging5" class="pagination pagination-sm"></ul>
                </div>
            </div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging6" class="pagination pagination-sm"></ul>
                </div>
            </div>
            <div style="clear:both;"></div>
        </div>

        <div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging7" class="pagination pagination-sm"></ul>
                </div>
            </div>
            <div class="text-center" style="float:left; width:50%;">
                当前页面:<span>1</span>
                <div>
                    <ul id="paging8" class="pager"></ul>
                </div>
            </div>
            <div style="clear:both;"></div>
        </div>
    </div>
</body>
</html>
